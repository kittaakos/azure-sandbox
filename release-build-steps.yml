steps:
- script: rm -rf dist && mkdir dist && echo `date` > dist/my-release.txt && zip -9 -jr ./dist/my-release.zip ./dist/my-release.txt
  displayName: 'Create Release'
- task: PublishBuildArtifacts@1
  inputs:
    pathtoPublish: dist/my-release.zip
    artifactName: 'my-release.zip'
  displayName: 'Publish Release'
- task: GithubRelease@0
  inputs:
    gitHubConnection: PersonalAccessToken
    repositoryName: kittaakos/azure-sandbox
    action: 'create' # Options: create, edit, discard
    target: '$(build.sourceVersion)' # Required when action == create || action == edit
    tagSource: 'auto' # Required when action == create. Options: auto, manual
    #tag: # Required when action == edit || action == discard || tagSource == manual
    #title: # Optional
    #releaseNotesSource: 'file' # Optional. Options: file, input
    #releaseNotesFile: # Optional
    #releaseNotes: # Optional
    assets: 'dist/my-release.zip' # Optional
    assetUploadMode: 'delete' # Optional. Options: delete, replace
    isDraft: false # Optional
    #isPreRelease: false # Optional
    #addChangeLog: true # Optional